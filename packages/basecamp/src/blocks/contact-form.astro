---
import { SendHorizonalIcon } from "lucide-react";
import FormTextBox from "../components/ui/form-text-box.astro";
import FormSelect from "../components/ui/form-select.astro";
import FormTextArea from "../components/ui/form-text-area.astro";
import BlockElement from "../components/block/block-element.astro";

import Button from "../components/ui/button.astro";
import { type Option } from "../models/option";

interface Props {
  emailLabel: string;
  emailPlaceholder: string;
  messageLabel: string;
  messagePlaceholder: string;
  nameLabel: string;
  namePlaceholder: string;
  subjectLabel: string;
  subjectOptions: Option[];
  button: string;
  subtitle: string;
  title: string;
  privacyNotice: string;
}

const {
  emailLabel,
  emailPlaceholder,
  messageLabel,
  messagePlaceholder,
  nameLabel,
  namePlaceholder,
  subjectLabel,
  subjectOptions,
  button,
  subtitle,
  title,
  privacyNotice,
}: Props = Astro.props;
---

<BlockElement
  id="contact"
  heading={{ title, subtitle, className: "text-primary" }}
  seperator={{ loading: "lazy" }}
>
  <div class="max-w-screen-md mx-auto">
    <form name="contact" action="/functions/enquiry" class="space-y-8">
      <FormTextBox
        id="email"
        type="email"
        label={emailLabel}
        placeholder={emailPlaceholder}
        required={true}
      />

      <FormTextBox
        id="name"
        type="text"
        label={nameLabel}
        placeholder={namePlaceholder}
        required={true}
      />

      <FormSelect
        id="subject"
        label={subjectLabel}
        required={true}
        options={subjectOptions}
      />

      <input class="hidden" name="number" />

      <FormTextArea
        id="message"
        label={messageLabel}
        placeholder={messagePlaceholder}
        required={true}
      />

      <Button Icon={SendHorizonalIcon} type="submit" text={button} />
      <div class="text-sm text-center">
        {privacyNotice} Read our <a
          href="/privacy-policy"
          class="hover:underline underline-offset-2 text-primary"
          >Privacy Policy</a
        >.
      </div>
    </form>
  </div>
</BlockElement>
